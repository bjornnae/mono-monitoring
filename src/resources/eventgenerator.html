<!DOCTYPE html>
<html>
    <head>
<script type="text/javascript">
function registerEvent(){
   let f = document.getElementById('eventForm')
   let result = document.getElementById("result")
   let tagr = f.tags.value
   var tags = '"'
   let splitted = tagr.split(",")
   tags = tags + splitted.join('","')
   tags = tags + '"'

   let selectedState = f.eventStatusSelect.selectedOptions[0].value
   result.innerHTML = result.innerHTML + `<br/>{"time": ${Date.now()}, "host": "${f.host.value}", "service": "${f.service.value}","state": "${selectedState}", "description": "${f.description.value}", "tags": [${tags}], "metric" : [{"name": "${f.metricName.value}", "value" : ${f.metricValue.value}}], "ttl" : ${f.ttl.value} }`  
}

</script>
    </head>
    <body>
        <form id="eventForm">
            <select id="eventStatusSelect">
                <option value="ok">ok</option>
                <option value="info">info</option>
                <option value="warning">warning</option>
                <option value="error">error</option>
            </select>
            <label for="host">Host:</label>
            <input type="text", id="host"></input>
            <label for="service">Service:</label>
            <input type="text", id="service"></input>
            <label for="description">Description:</label>
            <input type="text", id="description"></input>
            <label for="tags">Tags:</label>
            <input type="text", id="tags"></input>
            <label for="metricName">Metric name:</label>
            <input type="text", id="metricName"></input>
	    <label for="metricValue">Metric value:</label>
            <input type="text", id="metricValue"></input>
            <label for="ttl">TTL:</label>
            <input type="number", id="ttl"></input>
            <input type="button" value="pub" onclick="javascript:registerEvent();"></input>
            </form>
            <span id="result"></span>
    </body>
    </html>